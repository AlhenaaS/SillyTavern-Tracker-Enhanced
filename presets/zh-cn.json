{
  "locale": "zh-cn",
  "title": "Locale Default (简体中文)",
  "values": {
    "mesTrackerTemplate": "<div class=\"tracker_default_mes_template\">\n    <table>\n        <tr data-field-id=\"field-1\" data-internal-key-id=\"localTime\">\n            <td>LocalTime:</td>\n            <td>{{LocalTime}}</td>\n        </tr>\n        <tr data-field-id=\"field-2\">\n            <td>Location:</td>\n            <td>{{Location}}</td>\n        </tr>\n        <tr data-field-id=\"field-3\">\n            <td>Weather:</td>\n            <td>{{Weather}}</td>\n        </tr>\n  </table>\n    <details>\n        <summary><span>Tracker</span></summary>\n        <table>\n            <tr data-field-id=\"field-7\">\n                <td>Topics:</td>\n                <td>{{#join \"; \" Topics}}</td>\n            </tr>\n            <tr data-field-id=\"field-8\">\n                <td>Present:</td>\n                <td>{{#join \"; \" CharactersPresent}}</td>\n            </tr>\n        </table>\n        <div class=\"mes_tracker_characters\">\n            {{#foreach Characters character}}\n            <hr>\n            <strong>{{character}}:</strong><br />\n            <table>\n                <tr data-field-id=\"field-9\" data-internal-key-id=\"characterGender\">\n                    <td>Gender:</td>\n                    <td>{{character.Gender}}</td>\n                </tr>\n                <tr data-field-id=\"field-10\">\n                    <td>Age:</td>\n                    <td>{{character.Age}}</td>\n                </tr>\n                <tr data-field-id=\"field-11\">\n                    <td>Hair:</td>\n                    <td>{{character.Hair}}</td>\n                </tr>\n                <tr data-field-id=\"field-12\">\n                    <td>Makeup:</td>\n                    <td>{{character.Makeup}}</td>\n                </tr>\n                <tr data-field-id=\"field-13\">\n                    <td>Outfit:</td>\n                    <td>{{character.Outfit}}</td>\n                </tr>\n                <tr data-field-id=\"field-14\">\n                    <td>State:</td>\n                    <td>{{character.StateOfDress}}</td>\n                </tr>\n                <tr data-field-id=\"field-15\">\n                    <td>Position:</td>\n                    <td>{{character.PostureAndInteraction}}</td>\n                </tr>\n                <tr data-field-id=\"field-16\">\n                    <td>BustWaistHip:</td>\n                    <td>{{character.BustWaistHip}}</td>\n                </tr>\n                <tr data-field-id=\"field-17\">\n                    <td>FertilityCycle:</td>\n                    <td>{{character.FertilityCycle}}</td>\n                </tr>\n                <tr data-field-id=\"field-18\">\n                    <td>Pregnancy:</td>\n                    <td>{{character.Pregnancy}}</td>\n                </tr>\n                <tr data-field-id=\"field-19\">\n                    <td>Virginity:</td>\n                    <td>{{character.Virginity}}</td>\n                </tr>\n                <tr data-field-id=\"field-20\">\n                    <td>Traits:</td>\n                    <td>{{character.Traits}}</td>\n                </tr>\n                <tr data-field-id=\"field-21\">\n                    <td>Children:</td>\n                    <td>{{character.Children}}</td>\n                </tr>\n            </table>\n            {{/foreach}}\n        </div>\n    </details>\n</div>\n<hr>",
    "mesTrackerJavascript": "()=>{\nconst GENDER_FIELD_KEY=\"characterGender\";\nconst GENDER_SYMBOLS={\nmale:[\"\\u2642\",\"\\u2642\\uFE0F\"],\nfemale:[\"\\u2640\",\"\\u2640\\uFE0F\"],\ntrans:[\"\\u26A7\",\"\\u26A7\\uFE0F\"]\n};\nconst hideFields=(mesId,element)=>{\nconst sections=element.querySelectorAll('.mes_tracker_characters strong');\nconst addStyle=()=>{\nif(document.querySelector('style[data-tracker-alignment]'))return;\nconst style=document.createElement('style');\nstyle.textContent='.mes_tracker_characters{display:flex;flex-direction:column;}.mes_tracker_characters table{table-layout:fixed!important;width:100%!important;border-spacing:0!important;}.mes_tracker_characters table td:first-child{width:120px!important;min-width:120px!important;max-width:120px!important;text-align:left!important;vertical-align:top!important;padding:2px 5px!important;}.mes_tracker_characters table td:last-child{width:calc(100% - 125px)!important;text-align:left!important;vertical-align:top!important;padding:2px 5px!important;word-wrap:break-word!important;}';\nstyle.setAttribute('data-tracker-alignment','true');\ndocument.head.appendChild(style);\n};\naddStyle();\nsections.forEach((header,index)=>{\nconst name=header.textContent.replace(':','').trim();\nlet next=header.nextElementSibling;\nlet table=null;\nwhile(next){\nif(next.tagName==='TABLE'){\ntable=next;break;\n}\nnext=next.nextElementSibling;\n}\nif(table){\nconst rows=Array.from(table.rows);\nconst genderRow=rows.find(row=>{\nconst dataKey=row.dataset&&row.dataset.internalKeyId;\nif(dataKey===GENDER_FIELD_KEY)return true;\nconst firstCell=row.cells[0];\nif(!dataKey&&firstCell){\nreturn firstCell.textContent.trim()==='Gender:';\n}\nreturn false;\n});\nif(!genderRow||!genderRow.cells[1])return;\nconst genderText=genderRow.cells[1].textContent.trim();\nconst containsSymbol=(text,symbols)=>symbols.some(symbol=>text.includes(symbol));\nconst isFemale=containsSymbol(genderText,GENDER_SYMBOLS.female);\nconst isMale=containsSymbol(genderText,GENDER_SYMBOLS.male);\nconst isTrans=containsSymbol(genderText,GENDER_SYMBOLS.trans);\nconst fieldsToHide=[];\nif(!isFemale){\nfieldsToHide.push(...[{label:'BustWaistHip:',key:null,fieldId:'field-16'},{label:'FertilityCycle:',key:null,fieldId:'field-17'},{label:'Pregnancy:',key:null,fieldId:'field-18'}]);\n}\nif(!isMale){\nfieldsToHide.push(...[]);\n}\nif(!isTrans){\nfieldsToHide.push(...[]);\n}\nif(fieldsToHide.length===0)return;\nrows.forEach(row=>{\nif(!row.cells[0])return;\nconst label=row.cells[0].textContent.trim();\nconst dataKey=row.dataset?row.dataset.internalKeyId:null;\nconst fieldId=row.dataset?row.dataset.fieldId:null;\nconst matches=fieldsToHide.some(spec=>{\nif(spec.key&&dataKey===spec.key)return true;\nif(spec.fieldId&&fieldId===spec.fieldId)return true;\nif(spec.label&&label===spec.label)return true;\nreturn false;\n});\nif(matches){\nrow.style.display='none';\n}\n});\n}\n});\n};\nconst init=()=>{\ntry{\nconst ctx=SillyTavern.getContext();\nif(ctx&&ctx.eventSource){\nctx.eventSource.on(\"TRACKER_ENHANCED_PREVIEW_ADDED\",hideFields);\nctx.eventSource.on(\"TRACKER_ENHANCED_PREVIEW_UPDATED\",hideFields);\n}\n}catch(e){\nconsole.warn('[tracker-enhanced] Init failed, SillyTavern context not available:',e.message);\n}\n};\nconst cleanup=()=>{\ntry{\nconst ctx=SillyTavern.getContext();\nif(ctx&&ctx.eventSource&&typeof ctx.eventSource.off==='function'){\nctx.eventSource.off(\"TRACKER_ENHANCED_PREVIEW_ADDED\",hideFields);\nctx.eventSource.off(\"TRACKER_ENHANCED_PREVIEW_UPDATED\",hideFields);\n}\nconst style=document.querySelector('style[data-tracker-alignment]');\nif(style)style.remove();\n}catch(e){\nconsole.warn('[tracker-enhanced] Cleanup failed, SillyTavern context not available:',e.message);\nconst style=document.querySelector('style[data-tracker-alignment]');\nif(style)style.remove();\n}\n};\nreturn{init,cleanup,hideGenderSpecificFields:hideFields};\n}",
    "trackerDef": {
      "field-0": {
        "id": "TimeAnchor",
        "label": "时间锚点",
        "type": "STRING",
        "presence": "DYNAMIC",
        "prompt": "请填写与场景剧情相符的精确 ISO-8601 时间戳，用作时间锚点（示例：2024-06-15T14:30:00Z）。务必依据故事本身的时间线，而非套用示例。",
        "defaultValue": "<场景时间锚点（ISO-8601）>",
        "exampleValues": [
          "\"2024-06-15T14:30:00Z\"",
          "\"1348-05-12T07:30:00Z\"",
          "\"2325-07-22T18:05:00+02:00\""
        ],
        "nestedFields": {},
        "metadata": {
          "internal": true,
          "external": false,
          "internalKeyId": "timeAnchor",
          "internalOnly": true
        }
      },
      "field-1": {
        "id": "LocalTime",
        "label": "故事时间",
        "type": "STRING",
        "presence": "DYNAMIC",
        "prompt": "依据“时间锚点”(TimeAnchor)，使用符合故事世界观的纪年、时辰或天象进行表述，确保与当前场景的地域文化氛围一致。",
        "defaultValue": "<若时间有变化，请更新描述>",
        "exampleValues": [
          "2024年10月16日，周三早高峰时段",
          "1665年，大瘟疫时期的深夜三更",
          "宋徽宗崇宁三年三月十八日卯时",
          "星历四五二三一·五，天苑四轨道暮色",
          "晶辉纪元六年，烁月十八日，同步轨道夜面"
        ],
        "nestedFields": {},
        "metadata": {
          "internal": true,
          "external": true,
          "internalKeyId": "localTime",
          "internalOnly": false
        }
      },
      "field-2": {
        "id": "Location",
        "label": "地点",
        "type": "STRING",
        "presence": "DYNAMIC",
        "prompt": "提供精确的地点信息，按从宽泛到具体的顺序（如：星球/国度；地域/城镇；建筑/地标；具体区域/房间）。仅当位置发生实际变化时更新。地名应符合故事的世界观。",
        "defaultValue": "<若地点有变化，请更新描述>",
        "exampleValues": [
          "纽约州，曼哈顿中城，Apex公司12层B号会议室",
          "英格兰坎特伯雷近郊，艾尔斯福德谷村",
          "汴梁皇，凝光殿，城东南书阁",
          "星舰‘启明号’，主舰桥",
          "圣城卢米恩，光之神庙正殿"
        ],
        "nestedFields": {},
        "metadata": {
          "internal": false,
          "external": true,
          "internalKeyId": null,
          "internalOnly": false
        }
      },
      "field-3": {
        "id": "Weather",
        "label": "天气",
        "type": "STRING",
        "presence": "DYNAMIC",
        "prompt": "简要描述当前天气状况，用于烘托场景。",
        "defaultValue": "<若天气有变化，请更新描述>",
        "exampleValues": [
          "阴天，气温凉爽宜人",
          "夜空晴朗，微风带寒",
          "阳光炽烈，炎热无风",
          "室内，温暖干燥",
          "斜风细雨，略带寒意"
        ],
        "nestedFields": {},
        "metadata": {
          "internal": false,
          "external": true,
          "internalKeyId": null,
          "internalOnly": false
        }
      },
      "field-7": {
        "id": "Topics",
        "label": "主题",
        "type": "ARRAY_OBJECT",
        "presence": "DYNAMIC",
        "prompt": "",
        "defaultValue": "",
        "exampleValues": [
          "",
          "",
          ""
        ],
        "nestedFields": {
          "field-4": {
            "id": "PrimaryTopic",
            "label": "核心主题",
            "type": "STRING",
            "presence": "DYNAMIC",
            "prompt": "**一至两个词的主题**，描述场景中的主要活动或焦点。",
            "defaultValue": "<若核心主题有变化，请更新>",
            "exampleValues": [
              "商务谈判",
              "体能训练",
              "线索调查",
              "恋爱约会"
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-5": {
            "id": "EmotionalTone",
            "label": "情绪基调",
            "type": "STRING",
            "presence": "DYNAMIC",
            "prompt": "**一至两个词的主题**，描述场景中主导的情绪氛围。",
            "defaultValue": "<若情绪基调有变化，请更新>",
            "exampleValues": [
              "平静",
              "专注",
              "紧张",           
              "不知所措"        
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-6": {
            "id": "InteractionTheme",
            "label": "互动氛围",
            "type": "STRING",
            "presence": "DYNAMIC",
            "prompt": "**一至两个词的主题**，描述场景中互动或关系的主要类型。",
            "defaultValue": "<若互动氛围有变化，请更新>",
            "exampleValues": [
              "指导",
              "暧昧",
              "亲情",
              "心有灵犀",
              "公事公办"
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          }
        },
        "metadata": {
          "internal": false,
          "external": true,
          "internalKeyId": null,
          "internalOnly": false
        }
      },
      "field-8": {
        "id": "CharactersPresent",
        "label": "出场角色",
        "type": "ARRAY",
        "presence": "DYNAMIC",
        "prompt": "按array格式列出当前所有出场角色的名单，请根据上下文填写。",
        "defaultValue": "<若出场角色有变化，请更新名单>",
        "exampleValues": [          
          "[\"<角色名1>\"]",
          "[\"<角色名1>\", \"<角色名2>\"]",
          "[\"<角色名1>\", \"<角色名2>\", \"<角色名3>\"]"
        ],
        "nestedFields": {},
        "metadata": {
          "internal": false,
          "external": true,
          "internalKeyId": null,
          "internalOnly": false
        }
      },
      "field-22": {
        "id": "Characters",
        "label": "角色",
        "type": "FOR_EACH_OBJECT",
        "presence": "DYNAMIC",
        "prompt": "为每位角色更新细节:",
        "defaultValue": "<角色姓名>",
        "exampleValues": [
          "<角色姓名>"
        ],
        "nestedFields": {
          "field-9": {
            "id": "Gender",
            "label": "性别",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "角色的性别，一个词加上对应emoji（♂️ / ♀️ / ⚧️ / ❓）。",
            "defaultValue": "<若无变更，请保持当前性别>",
            "exampleValues": [
              "\"男 ♂️\"",
              "\"女 ♀️\"",
              "\"跨性别 ⚧️\"",
              "\"未知 ❓\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": true,
              "external": true,
              "internalKeyId": "characterGender",
              "internalOnly": false
            }
          },
          "field-10": {
            "id": "Age",
            "label": "年龄",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "角色的年龄，一个数字，或\"未知\"。",
            "defaultValue": "<若年龄有变化，请更新描述>",
            "exampleValues": [
              "\"未知\"",
              "\"18\"",
              "\"32\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-11": {
            "id": "Hair",
            "label": "发型",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "角色当前的发型描述。",
            "defaultValue": "<若发型有变化，请更新描述>",
            "exampleValues": [
              "\"不加修饰，散乱的头发\"",
              "\"梳理整齐的黑色短发\"",
              "\"维多利亚时代的发髻，点缀着黑玉发簪\"", 
              "\"青丝绾作浮云髻，斜插一支碧玉簪\"",
              "\"1920年代的摩波波波头，光滑并带着手推波纹\"",
              "\"脏辫，其间编入细小的骨头与羽毛\"",
              "\"精灵的银发，仿佛凝结了月光\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-12": {
            "id": "Makeup",
            "label": "妆容",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "角色当前的妆容描述。",
            "defaultValue": "<若妆容有变化，请更新描述>",
            "exampleValues": [              
              "\"干干净净的素颜\"",
              "\"化了不易察觉的眼线和裸色唇膏\"",
              "\"雪肤衬斜红，眉间花钿映秋波；朱唇一点，似芙蓉含露胜春华。\"",
              "\"维多利亚时代追求的苍白面色，微含砒霜粉末\"",
              "\"宛如缀满星尘的闪粉\"",
              "\"素面朝天，只有艰苦旅途留下的风霜\"",
              "\"按庙宇传统点上的对称檀香膏圆点\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-13": {
            "id": "Outfit",
            "label": "着装",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "**重要！** 列出完整的着装，**包括内衣和配饰**，即使角色已脱衣。**描述中必须始终包含内衣。若故意未穿内衣，请明确说明（例如：\"未穿胸罩\"、\"未穿内裤\"）**。着装应保持不变，直至更换新装。",
            "defaultValue": "<完整的着装描述，即使已脱下的衣物也需包括颜色、面料和款式细节；**若穿着内衣和配饰则必须描述。若故意未穿内衣，请明确说明**>",
            "exampleValues": [
              "\"白色太阳裙，内搭红色挂颈比基尼；草帽；棕色人字拖；金色脚链；红色挂颈比基尼上装；配套的红色系带比基尼下装\"",
              "\"废土风格的打补丁长裤；拾荒得来的皮夹克；防毒面具挂在腰间；军靴；污渍斑斑的棉质汗衫；未穿内裤\"",
              "\"游牧民族沙漠长袍，白色精纺羊毛；头戴红格头巾与黑绳头箍；皮凉鞋；腰带别银制匕首；内穿简易棉质长裤\"",
              "\"赛博朋克公司制服，带集成LED显示屏；装甲合成皮靴；数据手套；智能手表；吸湿排汗的连体衣作为打底；未穿传统内衣\"",
              "\"1980年代权力垫肩西装外套；高腰牛仔裤；皮质浅口高跟鞋；超大耳环；蕾丝聚拢胸罩；配套的蕾丝比基尼内裤\"",
              "\"奇幻精灵游侠装束：柔软的皮革束腰外衣；绿色斗篷；软底靴；箭袋；内穿亚麻长衫与马裤；未穿胸罩，仅着简易亚麻衬裤\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-14": {
            "id": "StateOfDress",
            "label": "衣着状态",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "描述角色衣着是整齐还是凌乱，包括任何已脱下的衣物。注明从 outfit 中脱下的衣物被放置在何处。",
            "defaultValue": "<若衣着状态变更，请更新描述。若角色已脱衣，请注明衣物放置位置>",
            "exampleValues": [
              "\"衣着专业，整洁得体\"",
              "\"上衣半遮半掩，下身衣物凌乱\"",
              "\"衬衫和凉鞋已脱下，放在沙滩巾上\"",
              "\"全身赤裸，衣物整齐叠放在床边的椅子上\"",
              "\"盔甲已卸下，堆放在营火旁；武装衣上沾满旅途的风尘与汗渍\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-15": {
            "id": "PostureAndInteraction",
            "label": "姿态与互动",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "描述角色的身体姿态、与他人或物体的相对位置以及互动情况。",
            "defaultValue": "<若姿态变更，请更新描述>",
            "exampleValues": [
              "\"站在讲台后，演示着幻灯片，手持激光笔\"",
              "\"在卧推凳上举重，专注於动作规范\"",
              "\"立于水边，双脚没入浪花中\"",
              "\"跪在祭坛前祈祷，低着头\"",
              "\"斜倚在酒馆的墙边，以警惕的目光观察着人群\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-16": {
            "id": "BustWaistHip",
            "label": "三围",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "female",
            "prompt": "**Female Character only!** Display Bust/Waist/Hip measurements in centimetre based on narrative. Or \"Unkown\" if unknown.",
            "defaultValue": "<Current BustWaistHip if no update is needed>",
            "exampleValues": [
              "\"Unknown\"",
              "\"B80:W60:H86 (CM)\"",
              "\"B79:W56:H83 (CM)\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-17": {
            "id": "FertilityCycle",
            "label": "生理周期",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "female",
            "prompt": "**Female Character only!** Displays the current fertility cycle stage. States advance with time. If Pregnancy tracking indicates conception, immediately switch FertilityCycle to \"Pregnant 👶\" and pause the cycle. Remain \"Pregnant 👶\" for the full duration of pregnancy. Resume cycle after delivery.",
            "defaultValue": "<Current fertility cycle if no update is needed>",
            "exampleValues": [
              "\"Menstrual 🩸 (Safe)\"",
              "\"Follicular 🌱 (Low Risk)\"",
              "\"Ovulating 🌸 (High Risk!)\"",
              "\"Luteal 🌙 (Moderate Risk)\"",
              "\"Pregnant 👶\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-18": {
            "id": "Pregnancy",
            "label": "怀孕情况",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "female",
            "prompt": "**Female Character only!** Perform a d100 roll post-creampie scene to determine conception, chances are based on fertility cycle: Menstrual (0%), Follicular (15%), Ovulating (85%), Luteal (30%), Pregnant (0%) (e.g., rolled 80 during ovulating phase, 80<85, then yes. ). If yes, track days pregnant and trimester (1st: 0-90; 2nd: 91-180; 3rd: 181-270). Describe this with father's name.",
            "defaultValue": "<Current Pregnancy if no update is needed>",
            "exampleValues": [
              "\"Not Pregnant\"",
              "\"1st trimester, 0 days, impregnated by Harry\"",
              "\"3st trimester, 200 days, impregnated by Harry\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-19": {
            "id": "Virginity",
            "label": "贞洁状态",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "If virgin: \"Virgin\" else \"Lost to {partner}\".  Or \"Unkown\" if unkown.",
            "defaultValue": "<Current Virginity if no update is needed>",
            "exampleValues": [
              "\"Unkown\"",
              "\"Virgin\"",
              "\"Lost to Sam Witwicky\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-20": {
            "id": "Traits",
            "label": "特征",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "Add or Remove trait based on Narrative. \"{trait}: {short description}\"",
            "defaultValue": "<Current Traits if no update is needed>",
            "exampleValues": [
              "[\"No Traits\"]",
              "[\"Giant Penis: causes tearing pain to partner during sex.\", \"Emotional Intelligence: deeply philosophical and sentimental\"]",
              "[\"Tight Pussy: increase partner pleasure during sex.\", \"Masochist: gain pleasure from pain.\", \"Sadistic: deriving pleasure from inflicting pain.\"]"
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          },
          "field-21": {
            "id": "Children",
            "label": "子女",
            "type": "STRING",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "Add child after birth based on Narrative. Format: \"{Birth Order}: {Name}, {Gender + Symbol}, child with {Other Parent}\"",
            "defaultValue": "<Current Children if no update is needed>",
            "exampleValues": [
              "[\"No Child\"]",
              "[\"1st Born: Eve, Female ♀️, child with Harry\"]",
              "[\"1st Born: Aya, Female ♀️, child with Bob\", \"2nd Born: Max, Male ♂️, child with Sam\"]"
            ],
            "nestedFields": {},
            "metadata": {
              "internal": false,
              "external": true,
              "internalKeyId": null,
              "internalOnly": false
            }
          }
        },
        "metadata": {
          "internal": true,
          "external": true,
          "internalKeyId": "characters",
          "internalOnly": false
        }
      },
      "field-29": {
        "id": "StoryEvents",
        "label": "剧情事件",
        "type": "OBJECT",
        "presence": "DYNAMIC",
        "prompt": "Lifecycle event log used to coordinate internal tracker automations.",
        "defaultValue": "<Story events if present>",
        "exampleValues": [
          "{}",
          "{\"BirthEvents\": {\"Mira\": {\"NewBornDescription\": \"Mira, the newborn of Harry and Monika, female — she sleeps in short bursts, cries softly when hungry, and cannot yet focus her bright blue eyes on anything distant.\"}}, \"GrowthEvents\": {\"Molly Thompson\": {\"GrowthDescription\": \"Molly Thompson has grown into an energetic teenager with her father Jack's athletic build and her mother Rose's quick wit.\"}}, \"DeathEvents\": {\"Sir Alden\": {\"DeathCauseDescription\": \"Sir Alden fell defending the northern gate, struck down by the dragon's final burst of flame.\"}}}"
        ],
        "nestedFields": {
          "field-24": {
            "id": "BirthEvents",
            "label": "出生事件",
            "type": "FOR_EACH_OBJECT",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "Count only completed births — the baby must be fully delivered and present. Ignore labor, contractions, or partial delivery. Use \"Unnamed baby of <mother name>\" for unnamed babies. For each newborn, update the details:",
            "defaultValue": "<Baby Name>",
            "exampleValues": [
              "[\"None\"]",
              "[\"Liam Johnson\", \"Emily Clark\"]",
              "[\"Unnamed baby of Alice\"]"
            ],
            "nestedFields": {
              "field-23": {
                "id": "NewBornDescription",
                "label": "新生儿描述",
                "type": "STRING",
                "presence": "DYNAMIC",
                "genderSpecific": "all",
                "prompt": "Describe the newborn, including name, gender, parents, appearance, notable traits, and their immediate newborn behaviours (e.g., crying, sleeping patterns, inability to speak or walk).",
                "defaultValue": "<description of the newborn baby>",
                "exampleValues": [
                  "Mira, the newborn of Harry and Monika, female — she sleeps in short bursts, cries softly when hungry, and cannot yet focus her bright blue eyes on anything distant.",
                  "Molly, the newborn of Jack and Rose, female — she clenches her tiny fists, reacts to her parents' voices, and only communicates with soft whimpers.",
                  "Arwen, the newborn of Elrond and Celebrían, female — she has luminous eyes, slightly pointed ears, and can only express herself through gentle coos."
                ],
                "nestedFields": {},
                "metadata": {
                  "internal": true,
                  "external": false,
                  "internalKeyId": "newBornDescription",
                  "internalOnly": true
                }
              }
            },
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "birthEvents",
              "internalOnly": true
            }
          },
          "field-26": {
            "id": "GrowthEvents",
            "label": "成长事件",
            "type": "FOR_EACH_OBJECT",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "Track major growth milestones for existing characters. For each update, provide a complete, card-ready description that reflects current age, physical changes, behavioural shifts, skills, relationships, and notable story developments.",
            "defaultValue": "<Character Name>",
            "exampleValues": [
              "[\"Mira Thompson\"]",
              "[\"Molly Johnson\"]",
              "[\"Arwen Half-elven\"]"
            ],
            "nestedFields": {
              "field-25": {
                "id": "GrowthDescription",
                "label": "成长描述",
                "type": "STRING",
                "presence": "DYNAMIC",
                "genderSpecific": "all",
                "prompt": "Provide a full character description reflecting the current stage of life: appearance, age, personality, behaviour, skills, relationships, and any recent narrative developments.",
                "defaultValue": "<updated character description>",
                "exampleValues": [
                  "Mira Thompson, now five years old, has inquisitive blue eyes, a restless mind, and a fearless curiosity. She chatters endlessly about the world she discovers each day and already mimics her mother Monika's analytical instincts.",
                  "Molly Johnson has grown into an energetic teenager with her father Jack's athletic build and her mother Rose's quick wit. She balances school with competitive swimming, and her confidence is tempered by a fierce loyalty to her family.",
                  "Arwen Half-elven now stands as a poised young adult, carrying the wisdom of her father Elrond and the grace of her mother Celebrían. Her luminous eyes reflect centuries of elven memory, and she moves through Rivendell as a calming presence and diplomat."
                ],
                "nestedFields": {},
                "metadata": {
                  "internal": true,
                  "external": false,
                  "internalKeyId": "growthDescription",
                  "internalOnly": true
                }
              }
            },
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "growthEvents",
              "internalOnly": true
            }
          },
          "field-28": {
            "id": "DeathEvents",
            "label": "死亡事件",
            "type": "FOR_EACH_OBJECT",
            "presence": "DYNAMIC",
            "genderSpecific": "all",
            "prompt": "Track characters whose stories have ended. For each death, provide the character name and a concise description of how and why they died, along with any immediate narrative consequences.",
            "defaultValue": "<Character Name>",
            "exampleValues": [
              "[\"Sir Alden\"]",
              "[\"Mira Thompson\"]",
              "[\"Unnamed soldier\"]"
            ],
            "nestedFields": {
              "field-27": {
                "id": "DeathCauseDescription",
                "label": "死亡原因描述",
                "type": "STRING",
                "presence": "DYNAMIC",
                "genderSpecific": "all",
                "prompt": "Summarize the cause of death and any immediate aftermath or impact on the narrative.",
                "defaultValue": "<cause of death description>",
                "exampleValues": [
                  "Sir Alden fell defending the northern gate, struck down by the dragon's final burst of flame.",
                  "Mira Thompson passed peacefully at the age of 84, surrounded by family after a lifetime of pioneering research.",
                  "The unnamed soldier perished during the midnight ambush, triggering the retreat of the remaining scouts."
                ],
                "nestedFields": {},
                "metadata": {
                  "internal": true,
                  "external": false,
                  "internalKeyId": "deathCauseDescription",
                  "internalOnly": true
                }
              }
            },
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "deathEvents",
              "internalOnly": true
            }
          }
        },
        "metadata": {
          "internal": true,
          "external": false,
          "internalKeyId": "storyEvents",
          "internalOnly": true
        }
      },
      "field-37": {
        "id": "TimeAnalysis",
        "label": "时间分析",
        "type": "OBJECT",
        "presence": "STATIC",
        "prompt": "基于 TimeAnchor 自动生成的时间诊断数据，用于内部引擎与审计。",
        "defaultValue": "{}",
        "exampleValues": [
          "{\"AnchorRaw\": \"2024-06-15T14:30:00Z\", \"IsoTimestamp\": \"2024-06-15T14:30:00.000Z\", \"ElapsedSeconds\": \"120\", \"ElapsedDays\": \"0.00139\"}"
        ],
        "nestedFields": {
          "field-30": {
            "id": "AnchorRaw",
            "label": "锚点原始值",
            "type": "STRING",
            "presence": "STATIC",
            "prompt": "解析前的 TimeAnchor 原始值。",
            "defaultValue": "<auto-filled>",
            "exampleValues": [
              "\"2024-06-15T14:30:00Z\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "timeAnalysisAnchorRaw",
              "internalOnly": true
            }
          },
          "field-31": {
            "id": "IsoTimestamp",
            "label": "ISO 时间戳",
            "type": "STRING",
            "presence": "STATIC",
            "prompt": "根据 TimeAnchor 解析出的标准化 ISO 时间戳。",
            "defaultValue": "<auto-filled>",
            "exampleValues": [
              "\"2024-06-15T14:30:00.000Z\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "timeAnalysisIso",
              "internalOnly": true
            }
          },
          "field-32": {
            "id": "EpochMillis",
            "label": "纪元毫秒",
            "type": "STRING",
            "presence": "STATIC",
            "prompt": "该锚点对应的 Unix 纪元毫秒数。",
            "defaultValue": "<auto-filled>",
            "exampleValues": [
              "\"1718461800000\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "timeAnalysisEpoch",
              "internalOnly": true
            }
          },
          "field-33": {
            "id": "ElapsedSeconds",
            "label": "经过秒数",
            "type": "STRING",
            "presence": "STATIC",
            "prompt": "距上一锚点经过的秒数（如有）。",
            "defaultValue": "<auto-filled>",
            "exampleValues": [
              "\"120\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "timeAnalysisElapsedSeconds",
              "internalOnly": true
            }
          },
          "field-34": {
            "id": "ElapsedDays",
            "label": "经过天数",
            "type": "STRING",
            "presence": "STATIC",
            "prompt": "距上一锚点经过的天数（小数）。",
            "defaultValue": "<auto-filled>",
            "exampleValues": [
              "\"0.00139\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "timeAnalysisElapsedDays",
              "internalOnly": true
            }
          },
          "field-35": {
            "id": "TimelineNote",
            "label": "时间线备注",
            "type": "STRING",
            "presence": "STATIC",
            "prompt": "时间线的提示或备注（例如锚点无效或出现回退）。",
            "defaultValue": "<auto-filled>",
            "exampleValues": [
              "\"TimeAnchor parsed successfully.\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "timeAnalysisNote",
              "internalOnly": true
            }
          },
          "field-36": {
            "id": "ParsedAt",
            "label": "解析时间",
            "type": "STRING",
            "presence": "STATIC",
            "prompt": "追踪器解析该锚点时的 ISO 时间戳。",
            "defaultValue": "<auto-filled>",
            "exampleValues": [
              "\"2024-06-15T14:30:01.200Z\""
            ],
            "nestedFields": {},
            "metadata": {
              "internal": true,
              "external": false,
              "internalKeyId": "timeAnalysisParsedAt",
              "internalOnly": true
            }
          }
        },
        "metadata": {
          "internal": true,
          "external": false,
          "internalKeyId": "timeAnalysis",
          "internalOnly": true
        }
      }
    },
    "generateContextTemplate": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\n{{trackerSystemPrompt}}\n\n{{participantGuidance}}\n\n<!-- 上下文开始 -->\n\n{{characterDescriptions}}\n\n### 带追踪器的近期消息\n{{recentMessages}}\n\n### 当前追踪器\n<tracker>\n{{currentTracker}}\n</tracker>\n\n<!-- 上下文结束 --><|eot_id|>",
    "generateSystemPrompt": "你是一名场景追踪助手，负责根据最新消息、既有追踪器细节以及近期消息提供的上下文，对角色扮演场景的追踪器进行清晰、一致且结构化的更新。请严格遵循指定的 {{trackerFormat}} 结构，确保所有字段都被完整填写。若缺少明确信息，请根据既往描述、合理推断或角色默认信息给出恰当补全。\n\n### 核心要求：\n1. **追踪器格式**：始终返回完整的 {{trackerFormat}} 追踪器。字段不可缺漏，也不得改动 {{trackerFormat}} 的结构。\n2. **缺失信息的默认处理**：\n   - **角色细节**：若未提供新信息，可基于以往记录或上下文作合理假设（如发型、姿态、服饰等）。\n   - **服装**：为每位角色描述完整着装，包含颜色、材质和风格（示例：“黑色合身皮夹克，领口饰银色铆钉”）。**必须描述内衣**；若角色未穿内衣，请明确说明（如“未穿胸罩”、“未穿内裤”）。若角色赤身，请列出整套服装。\n   - **着装状态**：说明角色看起来多整洁或凌乱，并注明脱下衣物的放置位置。\n3. **时间推进**：\n   - 时间应以小幅度顺推（几秒或几分钟），除非叙事明确指示较大的跳跃（如三天后、旅程结束、入睡再醒等）。\n   - 每次都必须更新 TimeAnchor，使其成为新的 ISO-8601 时间戳；除非剧情明确停留在同一瞬间，否则不要重复上一条的时间戳。\n   - 与之对应，LocalTime 必须立刻用当地纪年、时辰或氛围化描述呈现同一时刻，保持与场景的地域文化一致。\n4. **情境匹配的时间**：确保时间与场景相符（例如商场场景应处于营业时段）。\n5. **地点格式**：避免重复示例中的地点，请根据上下文给出具体、相关且详尽的位置描述。\n   - **示例**：“美食广场，二层东翼入口旁，麦迪逊广场购物中心，美国加州洛杉矶市”。\n6. **一致性**：严格保持字段结构与 {{trackerFormat}} 语法。如字段无变化，请沿用上次的值。\n7. **主题关键词**：Topics 应为一到两个词的关键词，用于概括场景主题。\n8. **避免冗余**：仅使用上下文已提供或可合理推断的信息，避免无根据的臆测。\n9. **专注与停顿**：每次更新都应视为独立完整条目，即使改动不大也要返回完整追踪器。\n\n### 追踪器模板\n请完全按照以下 {{trackerFormat}} 模板输出：\n\n```\n<tracker>\n{{defaultTracker}}\n</tracker>\n```\n\n### 重要提醒：\n1. **近期消息与当前追踪器**：在更新前，请先阅读近期消息与提供的 <Current Tracker>，以确保所有变化被准确记录。\n2. **结构化回复**：不要在 {{trackerFormat}} 结构之外添加额外内容。\n3. **完整条目**：即使只有微调，也必须返回完整的 {{trackerFormat}} 追踪器。",
    "generateRequestPrompt": "[请分析上一条消息以及上面提供的近期消息，结合明确细节与合理推断更新当前场景追踪器。请先停顿思考，仅输出追踪数据，并使用 {{trackerFormat}} 格式。不要新增、删除或重新排序字段。请勿直接套用示例。每次都要返回完整追踪器。\n\n### 输出规则：\n{{trackerFieldPrompt}}\n\n确保回复保持一致，严格遵循 {{trackerFormat}} 结构，并且不要出现额外内容。必须使用 <tracker></tracker> 标签包裹追踪器。]",
    "generateRecentMessagesTemplate": "{{#if tracker}}追踪器：<tracker>\n{{tracker}}\n</tracker>\n{{/if}}{{char}}：{{message}}",
    "characterDescriptionTemplate": "### {{char}} 的描述\n{{charDescription}}",
    "roleplayPrompt": "请把追踪器区块视为幕后记录。不要在回复中包含 <tracker> 标签，也不要描述追踪器的更新。请完全保持角色扮演，只输出角色会自然说出的内容，把追踪器仅作为参考信息。",
    "automationTarget": "both",
    "participantTarget": "both",
    "showPopupFor": "none",
    "trackerFormat": "YAML",
    "numberOfMessages": 5,
    "generateFromMessage": 3,
    "minimumDepth": 0,
    "responseLength": 0,
    "devToolsEnabled": false,
    "debugMode": false,
    "trackerInjectionEnabled": true,
    "toolbarIndicatorEnabled": false,
    "participantGuidanceTemplate": "### 参与者策略\n请确保 CharactersPresent 与 Characters 始终包含以下参与者：{{participants}}。\n不要移除这些参与者；即便他们暂时未出场，也要继续推断其状态。"
  }
}
